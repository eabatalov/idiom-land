<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>QuestPlayerInput</name>
    <events>
        <comment>Initial = &quot;BLOCKED&quot;: block player input on start until game was inited&#x0D;&#x0A;Other globally recognizable values: &quot;IDLE&quot;</comment>
        <variable constant="0" name="INPUT_STATE" sid="3003482212209299" static="0" type="text">BLOCKED</variable>
        <comment>param(0): input event name. One of &quot;UNBLOCK&quot;, &quot;TOUCH_START&quot;, &quot;TOUCHING&quot;, &quot;TOUCH_END&quot;</comment>
        <event-group collapsed="1" description="" sid="9423143259056749" title="Input state machine">
            <sub-events>
                <event-group collapsed="1" description="" sid="7514782767214732" title="Input state machine init">
                    <sub-events>
                        <event-block sid="9110923667725193">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="4459049133762932" type="System" />
                            </conditions>
                            <actions>
                                <action id="5" name="Push" sid="4381457908584188" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcGlobalInputStateChange&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="461296398848152" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcSlideMenuTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="3044597228846055" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcPopupTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="5332040349339655" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcQuestNavTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="7302458121774294" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcPlayerQuizzAnswerTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="2745549389262577" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcNPCQuizzAnswerTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="3335435945375437" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcNPCTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="4889233414235001" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcPlayerTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="3551139410835578" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcPlayerMovementKeyboardInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="5581868348450229" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcPlayerMovementTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                                <action id="5" name="Push" sid="802327101624508" type="InputProcHandlers">
                                    <param id="0" name="Where">0</param>
                                    <param id="1" name="Value">&quot;ProcStageSpecificTouchInput&quot;</param>
                                    <param id="2" name="Axis">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="6412486179240296" title="Input event initiators">
                    <sub-events>
                        <event-block sid="8039408573179639">
                            <conditions>
                                <condition id="10" name="On Nth touch start" sid="4812237641790106" type="Touch">
                                    <param id="0" name="Touch number">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="1572697411062233" type="Function">
                                    <param id="0" name="Name">&quot;ProcInputEvent&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;TOUCH_START&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="4791278340946103">
                            <conditions>
                                <condition id="12" name="Has Nth touch" sid="9491209786652303" type="Touch">
                                    <param id="0" name="Touch number">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="9007639279302958" type="Function">
                                    <param id="0" name="Name">&quot;ProcInputEvent&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;TOUCHING&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5240915229928226">
                            <conditions>
                                <condition id="11" name="On Nth touch end" sid="5727851502573123" type="Touch">
                                    <param id="0" name="Touch number">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="4826951733394581" type="Function">
                                    <param id="0" name="Name">&quot;ProcInputEvent&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;TOUCH_END&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="5893339318039442">
                            <conditions>
                                <condition id="0" name="On function" sid="7493579566499409" type="Function">
                                    <param id="0" name="Name">&quot;EnableInputAfterGameInited&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="2273947775429669" type="Function">
                                    <param id="0" name="Name">&quot;ProcInputEvent&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;UNBLOCK&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block any="1" sid="3606138505350249">
                            <conditions>
                                <condition id="2" name="Key is down" sid="1491008369982331" type="Keyboard">
                                    <param id="0" name="Key">37 (Left arrow)</param>
                                </condition>
                                <condition id="2" name="Key is down" sid="9092560456886805" type="Keyboard">
                                    <param id="0" name="Key">39 (Right arrow)</param>
                                </condition>
                                <condition id="2" name="Key is down" sid="8870525848403851" type="Keyboard">
                                    <param id="0" name="Key">38 (Up arrow)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="3558997997391144" type="Function">
                                    <param id="0" name="Name">&quot;ProcInputEvent&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;TOUCHING&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="678010174450329" title="Input state machine proc loop">
                    <sub-events>
                        <event-block sid="9257404603565276">
                            <conditions>
                                <condition id="0" name="On function" sid="9444283504746207" type="Function">
                                    <param id="0" name="Name">&quot;ProcInputEvent&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="4000807565093725">
                                    <conditions>
                                        <condition id="-10" name="For" sid="7744932262781726" type="System">
                                            <param id="0" name="Name">&quot;ProcInputEvent&quot;</param>
                                            <param id="1" name="Start index">0</param>
                                            <param id="2" name="End index">InputProcHandlers.Width - 1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="5067354793803956" type="Function">
                                            <param id="0" name="Name">InputProcHandlers.At(loopindex)</param>
                                            <param id="1" name="Parameter {n}">Function.Param(0)</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="2890660864682235">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="2817274861210793" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-24" name="Stop loop" sid="7048784464390182" type="System" />
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group collapsed="1" description="" sid="1968544516879905" title="Input event handlers">
                    <sub-events>
                        <event-block collapsed="1" sid="8912003593169878">
                            <conditions>
                                <condition id="0" name="On function" sid="4933104546746031" type="Function">
                                    <param id="0" name="Name">&quot;ProcGlobalInputStateChange&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="7598988177461938" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="2927505355321816">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="2820905914313718" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;UNBLOCK&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="3026847420893806" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;IDLE&quot;</param>
                                        </action>
                                        <action id="1" name="Set return value" sid="6617909325210857" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="7231658181189067">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="4333992192173312" type="System" />
                                        <condition id="-8" name="Compare two values" sid="8516638219822029" type="System">
                                            <param id="0" name="First value">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;BLOCKED&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set return value" sid="765905397833515" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>We should consider any end of touch event as end of current INPUT_STATE.&#x0D;&#x0A;This allows to properly handle player&apos;s movement of cursor pointer and hiding of controls.</comment>
                        <event-block collapsed="1" sid="4637952758704494">
                            <conditions>
                                <condition id="0" name="On function" sid="2985333581505854" type="Function">
                                    <param id="0" name="Name">&quot;ProcSlideMenuTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="6779054864959097" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block collapsed="1" sid="6651889315114041">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="9745886294313667" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="5305895092433175" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;IDLE&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="2752575482351627" type="Function">
                                            <param id="0" name="Name">&quot;procMenuTouchStart&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="1077793840591355">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="1222046630012099" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="6824960341828639" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;TOUCH_MENU&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="5777638785258284" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="4338686372518858">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="4187552542147649" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="1" name="Set return value" sid="7912755678507726" type="Function">
                                                    <param id="0" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block collapsed="1" sid="9292267566306469">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="7456274847469501" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="6344222104639272" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;TOUCH_MENU&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="6800625356258979" type="Function">
                                            <param id="0" name="Name">&quot;procMenuTouchEnd&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="6281848804579227">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="2300283856408048" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="1200840266324807" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;IDLE&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="3437602381587478" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="525095544698137">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="9466101626469254" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="1" name="Set return value" sid="8709435654929718" type="Function">
                                                    <param id="0" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="765001731779788">
                            <conditions>
                                <condition id="0" name="On function" sid="930265571488775" type="Function">
                                    <param id="0" name="Name">&quot;ProcPopupTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="1047557290212456" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="541670216504052">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="8185229801691418" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="4492369749199507" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;IDLE&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="2492915643506672" type="Function">
                                            <param id="0" name="Name">&quot;procPopupTouchStart&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="4743152785456007">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="712764468134763" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="2341098949190686" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;POPUP_MENU&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="4720925266266798" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="6236748966423297">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="6764681964415347" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="1" name="Set return value" sid="4055035016417749" type="Function">
                                                    <param id="0" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block collapsed="1" sid="5374010651569836">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="3212715310209434" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="503703776582065" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;POPUP_MENU&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="3920983677590736" type="Function">
                                            <param id="0" name="Name">&quot;procPopupTouchEnd&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="3789141283017638">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="5687018088094387" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="6292501647415941" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;IDLE&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="2898918200887316" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="6715281703933574">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="14739075537779" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="1" name="Set return value" sid="6494543626592612" type="Function">
                                                    <param id="0" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="2718227613353496">
                            <conditions>
                                <condition id="0" name="On function" sid="8745392239672195" type="Function">
                                    <param id="0" name="Name">&quot;ProcQuestNavTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="681988208721353" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block collapsed="1" sid="4496419766149641">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="7334073350615249" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="3213363759417513" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;IDLE&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="6674388874935684">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="9350184462696324" type="Touch">
                                                    <param id="0" name="Object">QuestNavBackBtn</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="2677172802498704" type="QuestNavBackBtn" />
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="2641036212907526" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;QUEST_NAV_BACK_TOUCH&quot;</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="7803617801139715" type="QuestNavBackBtn">
                                                    <param id="0" name="Animation">&quot;Active&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="5369827774549993" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block collapsed="1" sid="6998515195238186">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="3072212413457669" type="System" />
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="2093857544188246">
                                                    <conditions>
                                                        <condition id="4" name="Is touching object" sid="417984706290615" type="Touch">
                                                            <param id="0" name="Object">QuestNavNextBtn</param>
                                                        </condition>
                                                        <condition id="-9" name="Is visible" sid="3256369757520716" type="QuestNavNextBtn" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Set value" sid="4021201393615287" type="System">
                                                            <param id="0" name="Variable">INPUT_STATE</param>
                                                            <param id="1" name="Value">&quot;QUEST_NAV_NEXT_TOUCH&quot;</param>
                                                        </action>
                                                        <action id="4" name="Set animation" sid="8160470696973467" type="QuestNavNextBtn">
                                                            <param id="0" name="Animation">&quot;Active&quot;</param>
                                                            <param id="1" name="From">1</param>
                                                        </action>
                                                        <action id="1" name="Set return value" sid="8859373601313123" type="Function">
                                                            <param id="0" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="8260336616318663">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="8246625556744144" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set return value" sid="7639336981476956" type="Function">
                                                            <param id="0" name="Value">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block collapsed="1" sid="8033642930570133">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="6961710141146701" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="7014394920898519" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;QUEST_NAV_BACK_TOUCH&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="197277712000856">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="8383342497421556" type="Touch">
                                                    <param id="0" name="Object">QuestNavBackBtn</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="177088944875197" type="QuestNavBackBtn" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="1593099475620691" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;BACK&quot;{###}&quot;Player&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="9074171878560735">
                                            <conditions />
                                            <actions>
                                                <action id="4" name="Set animation" sid="2387953901907685" type="QuestNavBackBtn">
                                                    <param id="0" name="Animation">&quot;Inactive&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="4524269099080445" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;IDLE&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="3056270607126155" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block collapsed="1" sid="4131999497247067">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="2438881984535516" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="4930700283228699" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;QUEST_NAV_NEXT_TOUCH&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="1407061689239863">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="4403178567041875" type="Touch">
                                                    <param id="0" name="Object">QuestNavNextBtn</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="6882800180864429" type="QuestNavNextBtn" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="6249804852040526" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;NEXT&quot;{###}&quot;Player&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="9485205732125033">
                                            <conditions />
                                            <actions>
                                                <action id="4" name="Set animation" sid="586635285712434" type="QuestNavNextBtn">
                                                    <param id="0" name="Animation">&quot;Inactive&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="4438905671156572" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;IDLE&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="4904671902727694" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="6091084868437529">
                            <conditions>
                                <condition id="0" name="On function" sid="9757011505561864" type="Function">
                                    <param id="0" name="Name">&quot;ProcPlayerQuizzAnswerTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="6597634877514597" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="2738204307327908">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="7510619316850309" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="7407028463667504" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;IDLE&quot;</param>
                                        </condition>
                                        <condition id="4" name="Is touching object" sid="2500929474759732" type="Touch">
                                            <param id="0" name="Object">PlayerAnsBg</param>
                                        </condition>
                                        <condition id="-9" name="Is visible" sid="5986664478543017" type="PlayerAnsBg" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="8705422268652252" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;TOUCH_PLAYER_ANS&quot;</param>
                                        </action>
                                        <action id="1" name="Set return value" sid="7616285988296917" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block collapsed="1" sid="7462882370916286">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="9683828772056207" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="5020891414253135" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;TOUCH_PLAYER_ANS&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set return value" sid="3679607342619308" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="7264247991928796" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;IDLE&quot;</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="9169822728727606">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="392975167225903" type="Touch">
                                                    <param id="0" name="Object">PlayerAns1Bg</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="9175367919561376" type="PlayerAns1Bg" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="6950167789667755" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;ANSWER1_CLICKED&quot;{###}&quot;Player&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="3559262533373934">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="2075517197663167" type="Touch">
                                                    <param id="0" name="Object">PlayerAns2Bg</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="7296785025142077" type="PlayerAns2Bg" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="1377381408525804" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;ANSWER2_CLICKED&quot;{###}&quot;Player&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="5449429999749919">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="6382510379748695" type="Touch">
                                                    <param id="0" name="Object">PlayerAns3Bg</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="429570427795059" type="PlayerAns3Bg" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="3154258668743757" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;ANSWER3_CLICKED&quot;{###}&quot;Player&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="7629642063769996">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="2265286361633372" type="Touch">
                                                    <param id="0" name="Object">PlayerAns4Bg</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="4170704105225994" type="PlayerAns4Bg" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="7752516994823085" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;ANSWER4_CLICKED&quot;{###}&quot;Player&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="2249922681091971">
                            <conditions>
                                <condition id="0" name="On function" sid="5631965676789023" type="Function">
                                    <param id="0" name="Name">&quot;ProcNPCQuizzAnswerTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="2327394851191398" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="3083874996367664">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="4604102028065967" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="2301983437975365" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;IDLE&quot;</param>
                                        </condition>
                                        <condition id="4" name="Is touching object" sid="3736322457385039" type="Touch">
                                            <param id="0" name="Object">NPCAnsBg</param>
                                        </condition>
                                        <condition id="-9" name="Is visible" sid="6830168875600478" type="NPCAnsBg" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="8932167563610551" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;TOUCH_NPC_ANSWER&quot;</param>
                                        </action>
                                        <action id="1" name="Set return value" sid="9326641680234781" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block collapsed="1" sid="1990385261731029">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="1935885167062934" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="3303184486993297" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;TOUCH_NPC_ANSWER&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="6036960326889037" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;IDLE&quot;</param>
                                        </action>
                                        <action id="1" name="Set return value" sid="1702458131552204" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="4680389553338626">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="5533199377732748" type="Touch">
                                                    <param id="0" name="Object">NPCAns1Bg</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="4965616869565007" type="NPCAns1Bg" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="3285583216716311" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;ANSWER1_CLICKED&quot;{###}NPC.NpcIDInStage</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="1138988953924289">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="3747553525331493" type="Touch">
                                                    <param id="0" name="Object">NPCAns2Bg</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="8068354682425189" type="NPCAns2Bg" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="1638001134366292" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;ANSWER2_CLICKED&quot;{###}NPC.NpcIDInStage</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="3508770549148374">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="1063958826702507" type="Touch">
                                                    <param id="0" name="Object">NPCAns3Bg</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="4560138846687817" type="NPCAns3Bg" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="3487420235863339" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;ANSWER3_CLICKED&quot;{###}NPC.NpcIDInStage</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="4898235280555341">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="5896219691383208" type="Touch">
                                                    <param id="0" name="Object">NPCAns4Bg</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="4963888799716667" type="NPCAns4Bg" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="6692510084114991" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;ANSWER4_CLICKED&quot;{###}NPC.NpcIDInStage</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="1093119385001146">
                            <conditions>
                                <condition id="0" name="On function" sid="9957313431946664" type="Function">
                                    <param id="0" name="Name">&quot;ProcNPCTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="1282590563142391" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="1605477500764539">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="3341834816431049" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="272547265629925" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;IDLE&quot;</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="9906733688794337" type="System">
                                            <param id="0" name="First value">NPC.Stage</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">Player.CurrentStage</param>
                                        </condition>
                                        <condition id="4" name="Is touching object" sid="952433903300572" type="Touch">
                                            <param id="0" name="Object">NPC</param>
                                        </condition>
                                        <condition disabled="1" id="-9" name="Is visible" sid="7950886529582977" type="NPC" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="4560787713753089" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;TOUCH_NPC&quot;</param>
                                        </action>
                                        <action id="1" name="Set return value" sid="8116103196882104" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block collapsed="1" sid="4641588212254011">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="5431793488345909" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="5435716046479473" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;TOUCH_NPC&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="1868977136041843" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;IDLE&quot;</param>
                                        </action>
                                        <action id="1" name="Set return value" sid="6899076660147115" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="3066479863267327">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="171504337190665" type="System">
                                                    <param id="0" name="First value">NPC.Stage</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">Player.CurrentStage</param>
                                                </condition>
                                                <condition id="4" name="Is touching object" sid="3131373900505711" type="Touch">
                                                    <param id="0" name="Object">NPC</param>
                                                </condition>
                                                <condition disabled="1" id="-9" name="Is visible" sid="8153542009945663" type="NPC" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="8297127232445739" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;NPC_CLICKED&quot;{###}NPC.NpcIDInStage</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="8509271049968614">
                            <conditions>
                                <condition id="0" name="On function" sid="4614178363603727" type="Function">
                                    <param id="0" name="Name">&quot;ProcPlayerTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="4792289441276555" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="7252876427135176">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="74114917005656" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="488674354440832" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;IDLE&quot;</param>
                                        </condition>
                                        <condition id="4" name="Is touching object" sid="413087288818946" type="Touch">
                                            <param id="0" name="Object">Player</param>
                                        </condition>
                                        <condition disabled="1" id="-9" name="Is visible" sid="499316502759554" type="Player" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="2171360643261402" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;TOUCH_PLAYER&quot;</param>
                                        </action>
                                        <action id="1" name="Set return value" sid="9025080968387733" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block collapsed="1" sid="5652841308128895">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="8875570911736648" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="2992280480244788" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;TOUCH_PLAYER&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="5476258236221295" type="System">
                                            <param id="0" name="Variable">INPUT_STATE</param>
                                            <param id="1" name="Value">&quot;IDLE&quot;</param>
                                        </action>
                                        <action id="1" name="Set return value" sid="2488809937757011" type="Function">
                                            <param id="0" name="Value">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="3044493311880083">
                                            <conditions>
                                                <condition id="4" name="Is touching object" sid="781022309557363" type="Touch">
                                                    <param id="0" name="Object">Player</param>
                                                </condition>
                                                <condition disabled="1" id="-9" name="Is visible" sid="6453360428322189" type="Player" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="1556457285323725" type="Function">
                                                    <param id="0" name="Name">&quot;ProcPlayerAction&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;PLAYER_CLICKED&quot;{###}&quot;Player&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="3251988910929346">
                            <conditions>
                                <condition id="0" name="On function" sid="821195537253287" type="Function">
                                    <param id="0" name="Name">&quot;ProcPlayerMovementKeyboardInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="2934784521160628" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block collapsed="1" sid="1686322096370056">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="7019353003900697" type="System">
                                            <param id="0" name="First value">Function.Param(0)</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;TOUCHING&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="6756719204417477">
                                            <conditions>
                                                <condition id="2" name="Key is down" sid="3062377034277811" type="Keyboard">
                                                    <param id="0" name="Key">37 (Left arrow)</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="9670499874971353" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputLeft&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="1" name="Set return value" sid="5416598760767936" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="6575731624126272">
                                            <conditions>
                                                <condition id="2" name="Key is down" sid="4678225614072215" type="Keyboard">
                                                    <param id="0" name="Key">39 (Right arrow)</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="1366488821853526" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputRight&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="1" name="Set return value" sid="5454787152358341" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="3215745753567243">
                                            <conditions>
                                                <condition id="2" name="Key is down" sid="3364918518207683" type="Keyboard">
                                                    <param id="0" name="Key">38 (Up arrow)</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="9895161628627862" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputUp&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="1" name="Set return value" sid="1053334449266973" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="4169620110013898">
                            <conditions>
                                <condition id="0" name="On function" sid="3626230809522197" type="Function">
                                    <param id="0" name="Name">&quot;ProcPlayerMovementTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="5239336936469298" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-group collapsed="1" description="" sid="848943531617697" title="Control left">
                                    <sub-events>
                                        <event-block sid="4359189801812126">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="4856779615524423" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="4768647800358242" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;IDLE&quot;</param>
                                                </condition>
                                                <condition id="4" name="Is touching object" sid="1091969369819632" type="Touch">
                                                    <param id="0" name="Object">ControlLeft</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="491813060498044" type="ControlLeft" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="6298438032666861" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputLeft&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="4" name="Set animation" sid="3327688780706368" type="ControlLeft">
                                                    <param id="0" name="Animation">&quot;Active&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="229189310188889" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;TOUCH_MOV_LEFT&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="9202051396522107" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="5639121922690403">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="8390376610221918" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCHING&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="7958146565418591" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;TOUCH_MOV_LEFT&quot;</param>
                                                </condition>
                                                <condition id="4" name="Is touching object" sid="7573374526423911" type="Touch">
                                                    <param id="0" name="Object">ControlLeft</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="6800082452904078" type="ControlLeft" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="5955643967990267" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputLeft&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="1" name="Set return value" sid="8882155612172428" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="126649516249981">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="3049484768964526" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="8389267276648474" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;TOUCH_MOV_LEFT&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="5796726436523843" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;IDLE&quot;</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="8570675977812344" type="ControlLeft">
                                                    <param id="0" name="Animation">&quot;Inactive&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="8931272855108938" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-group>
                                <event-group collapsed="1" description="" sid="8644105495216526" title="Control right">
                                    <sub-events>
                                        <event-block sid="4359189801812126">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="4856779615524423" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="4768647800358242" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;IDLE&quot;</param>
                                                </condition>
                                                <condition id="4" name="Is touching object" sid="1091969369819632" type="Touch">
                                                    <param id="0" name="Object">ControlRight</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="491813060498044" type="ControlRight" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="6298438032666861" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputRight&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="4" name="Set animation" sid="522886125698141" type="ControlRight">
                                                    <param id="0" name="Animation">&quot;Active&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="229189310188889" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;TOUCH_MOV_RIGHT&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="9202051396522107" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="5639121922690403">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="8390376610221918" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCHING&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="7958146565418591" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;TOUCH_MOV_RIGHT&quot;</param>
                                                </condition>
                                                <condition id="4" name="Is touching object" sid="8744349419833779" type="Touch">
                                                    <param id="0" name="Object">ControlRight</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="4142014182916614" type="ControlRight" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="5955643967990267" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputRight&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="1" name="Set return value" sid="4130652266176817" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="126649516249981">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="3049484768964526" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="7579015816779037" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;TOUCH_MOV_RIGHT&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="5796726436523843" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;IDLE&quot;</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="6254793579527131" type="ControlRight">
                                                    <param id="0" name="Animation">&quot;Inactive&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="8931272855108938" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-group>
                                <event-group collapsed="1" description="" sid="6186787065464255" title="Control up">
                                    <sub-events>
                                        <event-block sid="4359189801812126">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="4856779615524423" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCH_START&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="4768647800358242" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;IDLE&quot;</param>
                                                </condition>
                                                <condition id="4" name="Is touching object" sid="1091969369819632" type="Touch">
                                                    <param id="0" name="Object">ControlUp</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="491813060498044" type="ControlUp" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="6298438032666861" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputUp&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="-9" name="Set value" sid="229189310188889" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;TOUCH_MOV_UP&quot;</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="6016606316429611" type="ControlUp">
                                                    <param id="0" name="Animation">&quot;Active&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="9202051396522107" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="5639121922690403">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="8390376610221918" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCHING&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="7958146565418591" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;TOUCH_MOV_UP&quot;</param>
                                                </condition>
                                                <condition id="4" name="Is touching object" sid="7922243043405626" type="Touch">
                                                    <param id="0" name="Object">ControlUp</param>
                                                </condition>
                                                <condition id="-9" name="Is visible" sid="744485112265847" type="ControlUp" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="4181051817210749" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerInputUp&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="1" name="Set return value" sid="5877443670973049" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="126649516249981">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="3049484768964526" type="System">
                                                    <param id="0" name="First value">Function.Param(0)</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">&quot;TOUCH_END&quot;</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="8389267276648474" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;TOUCH_MOV_UP&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="5796726436523843" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;IDLE&quot;</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="6860660741987237" type="ControlUp">
                                                    <param id="0" name="Animation">&quot;Inactive&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="8931272855108938" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-group>
                            </sub-events>
                        </event-block>
                        <event-block collapsed="1" sid="7751179003069431">
                            <conditions>
                                <condition id="0" name="On function" sid="5030253494528417" type="Function">
                                    <param id="0" name="Name">&quot;ProcStageSpecificTouchInput&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="7854808528654784" type="Function">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block collapsed="1" sid="937358808167267">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="9872637444967387" type="Function">
                                            <param id="0" name="Index">0</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;TOUCH_START&quot;</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="4680906028147341" type="System">
                                            <param id="0" name="First value">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;IDLE&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="9847176512089124" type="Function">
                                            <param id="0" name="Name">&quot;procStageTouchStart&quot; &amp; Player.CurrentStage</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="4725792402454364">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="4098105315367225" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="5929727352507668" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;STAGE_INPUT&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="3374338670255642" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="4750814956868111">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="4471497400345277" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="1" name="Set return value" sid="7177099874257465" type="Function">
                                                    <param id="0" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="6406282660562473">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="3962465235985894" type="Function">
                                            <param id="0" name="Index">0</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;TOUCH_END&quot;</param>
                                        </condition>
                                        <condition id="-8" name="Compare two values" sid="1004373365881424" type="System">
                                            <param id="0" name="First value">INPUT_STATE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">&quot;STAGE_INPUT&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="6965700851377215" type="Function">
                                            <param id="0" name="Name">&quot;procStageTouchEnd&quot; &amp; Player.CurrentStage</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="7296833751817409">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="2655016958013312" type="System">
                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="3325157810801827" type="System">
                                                    <param id="0" name="Variable">INPUT_STATE</param>
                                                    <param id="1" name="Value">&quot;IDLE&quot;</param>
                                                </action>
                                                <action id="1" name="Set return value" sid="524222789161497" type="Function">
                                                    <param id="0" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="9782040955231265">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="4472985751313613" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="1" name="Set return value" sid="1993197634309586" type="Function">
                                                    <param id="0" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <variable constant="0" name="BlockPlayerInputOnSeqAction" sid="4976819164673977" static="0" type="number">0</variable>
        <variable constant="0" name="BlockPlayerAvatarControls" sid="4613878177283259" static="0" type="number">0</variable>
        <event-group description="" sid="1904461630731408" title="Player avatar movement">
            <sub-events>
                <event-block sid="9342819312308766">
                    <conditions>
                        <condition id="0" name="On function" sid="1546118214549502" type="Function">
                            <param id="0" name="Name">&quot;PlayerInputLeft&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="1833462567661928" type="System">
                            <param id="0" name="First value">BlockPlayerInputOnSeqAction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="663044184148649" type="System">
                            <param id="0" name="First value">BlockPlayerAvatarControls</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="9061341482689768" type="PlayerPlatform">
                            <param id="0" name="Control">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9329715248934294">
                    <conditions>
                        <condition id="0" name="On function" sid="6022184579517512" type="Function">
                            <param id="0" name="Name">&quot;PlayerInputUp&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="8712063027820289" type="System">
                            <param id="0" name="First value">BlockPlayerInputOnSeqAction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="8849649317273765" type="System">
                            <param id="0" name="First value">BlockPlayerAvatarControls</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="5342964455517997" type="PlayerPlatform">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="3302552265671319">
                    <conditions>
                        <condition id="0" name="On function" sid="6310757107772057" type="Function">
                            <param id="0" name="Name">&quot;PlayerInputRight&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="9335819726027978" type="System">
                            <param id="0" name="First value">BlockPlayerInputOnSeqAction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="4505893252888946" type="System">
                            <param id="0" name="First value">BlockPlayerAvatarControls</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="Platform" id="7" name="Simulate control" sid="2342917029191362" type="PlayerPlatform">
                            <param id="0" name="Control">1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="3870415647089319" title="Player avatar controls enable/disable">
            <sub-events>
                <event-block sid="8694111219489924">
                    <conditions>
                        <condition id="0" name="On function" sid="5825575074126567" type="Function">
                            <param id="0" name="Name">&quot;EnablePlayerAvatarControls&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="7174361625186059" type="System">
                            <param id="0" name="Variable">BlockPlayerAvatarControls</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="8450681033080737" type="ControlLeft">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="4215953835019314" type="ControlRight">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="5031764874179612" type="ControlUp">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="463979294614175" type="Clutch">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Set horizontal speed to 0 because it is not logically set to 0 when platform is disabled</comment>
                <event-block sid="3870640516651617">
                    <conditions>
                        <condition id="0" name="On function" sid="2178727481963409" type="Function">
                            <param id="0" name="Name">&quot;DisablePlayerAvatarControls&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="5620162536875308" type="System">
                            <param id="0" name="Variable">BlockPlayerAvatarControls</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action behavior="Platform" id="8" name="Set vector X" sid="6313459378318555" type="PlayerPlatform">
                            <param id="0" name="Vector X">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="6869784657833364" type="ControlLeft">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="9430945953897008" type="ControlRight">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="5401697065102518" type="ControlUp">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="37714701268698" type="Clutch">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="" sid="332469586418499" title="Stage changer">
            <sub-events>
                <event-block sid="9949365663832994">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="6721803164694401" type="Player">
                            <param id="0" name="Object">StageChanger</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="9836145392664095" type="System">
                            <param id="0" name="First value">BlockPlayerInputOnSeqAction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="2039766089303173" type="System">
                            <param id="0" name="First value">Player.CurrentStage</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Second value">StageChanger.Stage</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="6251768207915564" type="Function">
                            <param id="0" name="Name">&quot;ChangeStage&quot;</param>
                            <param id="1" name="Parameter {n}">StageChanger.Stage</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7609698910929058">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="1160313490422418" type="Player">
                            <param id="0" name="Object">CrankyStageChanger</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="8702323885905916" type="System">
                            <param id="0" name="First value">BlockPlayerInputOnSeqAction</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="9033207215331274" type="System">
                            <param id="0" name="First value">Player.CurrentStage</param>
                            <param id="1" name="Comparison">1</param>
                            <param id="2" name="Second value">CrankyStageChanger.Stage</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="8040100302080544" type="Function">
                            <param id="0" name="Name">&quot;ChangeStage&quot;</param>
                            <param id="1" name="Parameter {n}">CrankyStageChanger.Stage</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Change stage context and render current UI action on stage</comment>
                <comment>p(0): new stage name</comment>
                <event-block sid="6811936083988063">
                    <conditions>
                        <condition id="0" name="On function" sid="3098069443372747" type="Function">
                            <param id="0" name="Name">&quot;ChangeStage&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="7107882144466008" type="Function">
                            <param id="0" name="Name">&quot;onStage&quot; &amp; Player.CurrentStage&amp; &quot;Inactive&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="0" name="Call function" sid="7588886292693031" type="Function">
                            <param id="0" name="Name">&quot;HideStageUI&quot;</param>
                            <param id="1" name="Parameter {n}">Player.CurrentStage</param>
                        </action>
                        <action id="-10" name="Set value" sid="7257467278459108" type="Player">
                            <param id="0" name="Instance variable">CurrentStage</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="0" name="Call function" sid="8422606877246718" type="Function">
                            <param id="0" name="Name">&quot;ProcPlayerCustomEvent&quot;</param>
                            <param id="1" name="Parameter {n}">&quot;stage_activate&quot;{###}&quot;Player&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group collapsed="1" description="" sid="3984117986249243" title="Automatic start talk">
            <sub-events>
                <comment>Inject custom event with name &quot;auto_talk_start_&quot; + NPC id to start talking</comment>
                <event-block collapsed="1" sid="7124879317616865">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="7991193214109111" type="TalkStartTrigger">
                            <param id="0" name="Object">PlayerMiddleMarker</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="881256367298289">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="8273393451485714" type="TalkStartTrigger">
                                    <param id="0" name="Instance variable">FireOnce</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="8097163933482469" type="TalkStartHighlight" />
                                <action id="-9" name="Destroy" sid="2640317491128253" type="TalkStartTrigger" />
                            </actions>
                        </event-block>
                        <event-block sid="421426358105787">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="8589615490797181" type="System">
                                    <param id="0" name="First value">PlayerPlatform.Platform.VectorX</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="8" name="Set vector X" sid="7738017988602158" type="PlayerPlatform">
                                    <param id="0" name="Vector X">0</param>
                                </action>
                                <action id="2" name="Set object scale ratio" sid="4094644124897855" type="PlayerSCML">
                                    <param id="0" name="Scale Ratio">PlayerSCML.ScaleRatio</param>
                                    <param id="1" name="Flip X Axis">0</param>
                                    <param id="2" name="Flip Y Axis">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="2309060373181358">
                            <conditions />
                            <actions>
                                <action id="0" name="Call function" sid="8550995941394823" type="Function">
                                    <param id="0" name="Name">&quot;ProcPlayerCustomEvent&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;auto_talk_start_&quot;  &amp; TalkStartTrigger.NpcIDInStage{###}&quot;Player&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
