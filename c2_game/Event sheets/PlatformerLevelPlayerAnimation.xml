<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>PlatformerLevelPlayerAnimation</name>
    <events>
        <event-group description="" sid="9430662484510587" title="Quest player animation">
            <sub-events>
                <variable constant="1" name="PLAYER_ANIM_SCALING_DEFAULT" sid="4744348570009192" static="0" type="number">0.45</variable>
                <variable comment="Leave it zero. != condition will force recomputation of this var." constant="0" name="PlayerAnimScalingCurrent" sid="7409917232449734" static="1" type="number">0</variable>
                <variable constant="1" name="PLAYER_ANIM_MODE_AUTO" sid="216310390478447" static="0" type="number">0</variable>
                <variable constant="1" name="PLAYER_ANIM_MODE_PREEMTABLE" sid="7267223231210247" static="0" type="number">1</variable>
                <variable constant="1" name="PLAYER_ANIM_MODE_MANUAL" sid="2247299768342533" static="0" type="number">2</variable>
                <event-group description="" sid="5020068825746262" title="Initialization">
                    <sub-events>
                        <event-block sid="9016563247743718">
                            <conditions>
                                <condition id="0" name="On function" sid="2482119295865044" type="Function">
                                    <param id="0" name="Name">&quot;initPlayerAnimation&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="7957489834149249" type="System">
                                    <param id="0" name="Variable">PlayerAnimScalingCurrent</param>
                                    <param id="1" name="Value">PLAYER_ANIM_SCALING_DEFAULT</param>
                                </action>
                                <action id="2" name="Set object scale ratio" sid="1409244886592685" type="PlayerSCML">
                                    <param id="0" name="Scale Ratio">PlayerAnimScalingCurrent</param>
                                    <param id="1" name="Flip X Axis">0</param>
                                    <param id="2" name="Flip Y Axis">0</param>
                                </action>
                                <action id="-4" name="Set position to another object" sid="5890246426763598" type="PlayerSCML">
                                    <param id="0" name="Object">Player</param>
                                    <param id="1" name="Image point (optional)">&quot;AnimationPoint&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="Animation logic which is not changing during the game." sid="5129574936545948" title="Static">
                    <sub-events>
                        <event-block sid="8984455808387501">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="8669994467646534" type="System" />
                            </conditions>
                            <actions>
                                <action id="-3" name="Set position" sid="7942888808207559" type="Player">
                                    <param id="0" name="X">PlayerPlatform.X</param>
                                    <param id="1" name="Y">PlayerPlatform.Y - (Player.Height / 2 - PlayerPlatform.Height)</param>
                                </action>
                                <action id="-3" name="Set position" sid="3892470598369443" type="PlayerMiddleMarker">
                                    <param id="0" name="X">Player.X</param>
                                    <param id="1" name="Y">Player.Y</param>
                                </action>
                                <action id="-4" name="Set position to another object" sid="5558144430407876" type="PlayerSCML">
                                    <param id="0" name="Object">Player</param>
                                    <param id="1" name="Image point (optional)">&quot;AnimationPoint&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Disable this as we don&apos;t have dynamic scaling now</comment>
                        <event-block disabled="1" sid="5172423322165244">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="8312298886107587" type="System">
                                    <param id="0" name="First value">PlayerSCML.ScaleRatio</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Second value">PlayerAnimScalingCurrent</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="2" name="Set object scale ratio" sid="7159947501606788" type="PlayerSCML">
                                    <param id="0" name="Scale Ratio">PlayerAnimScalingCurrent</param>
                                    <param id="1" name="Flip X Axis">0</param>
                                    <param id="2" name="Flip Y Axis">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-group description="" sid="9620993175118371" title="Walking">
                            <sub-events>
                                <variable constant="0" name="IsInDialogMode" sid="2365980698197659" static="1" type="number">0</variable>
                                <event-block sid="9751026908280847">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="4039202312754226" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_AUTO</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment>flip spriter object based on direction moving</comment>
                                        <event-block sid="3008209258546219">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="7908367217684909" type="System">
                                                    <param id="0" name="First value">PlayerPlatform.Platform.VectorX</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="7713133642771891" type="System">
                                                    <param id="0" name="Variable">IsInDialogMode</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="2" name="Set object scale ratio" sid="3750219170647001" type="PlayerSCML">
                                                    <param id="0" name="Scale Ratio">PlayerAnimScalingCurrent</param>
                                                    <param id="1" name="Flip X Axis">0</param>
                                                    <param id="2" name="Flip Y Axis">0</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="3985185361995408">
                                                    <conditions>
                                                        <condition behavior="Platform" id="2" name="Is on floor" sid="4378791190020036" type="PlayerPlatform" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set playback speed ratio" sid="8099747811586332" type="PlayerSCML">
                                                            <param id="0" name="Speed Ratio">PlayerPlatform.Platform.VectorX/PlayerPlatform.Platform.MaxSpeed</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="8048707176950317">
                                                            <conditions>
                                                                <condition id="4" inverted="1" name="Compare Current Animation" sid="1072538335535117" type="PlayerSCML">
                                                                    <param id="0" name="Animation">&quot;main&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="9543559034202681" type="Function">
                                                                    <param id="0" name="Name">&quot;PlayerSCMLRunAnim&quot;</param>
                                                                    <param id="1" name="Parameter {n}">&quot;main&quot;</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="5406357282426264">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="5846899248192532" type="System">
                                                    <param id="0" name="First value">PlayerPlatform.Platform.VectorX</param>
                                                    <param id="1" name="Comparison">2</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="87869311015068" type="System">
                                                    <param id="0" name="Variable">IsInDialogMode</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="2" name="Set object scale ratio" sid="2900134620491703" type="PlayerSCML">
                                                    <param id="0" name="Scale Ratio">PlayerAnimScalingCurrent</param>
                                                    <param id="1" name="Flip X Axis">1</param>
                                                    <param id="2" name="Flip Y Axis">0</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="500645977210218">
                                                    <conditions>
                                                        <condition behavior="Platform" id="2" name="Is on floor" sid="8001881969512536" type="PlayerPlatform" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set playback speed ratio" sid="9458531368943897" type="PlayerSCML">
                                                            <param id="0" name="Speed Ratio">PlayerPlatform.Platform.VectorX/PlayerPlatform.Platform.MaxSpeed</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="7106678018051771">
                                                            <conditions>
                                                                <condition id="4" inverted="1" name="Compare Current Animation" sid="6502759005317774" type="PlayerSCML">
                                                                    <param id="0" name="Animation">&quot;main&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="7556135822295909" type="Function">
                                                                    <param id="0" name="Name">&quot;PlayerSCMLRunAnim&quot;</param>
                                                                    <param id="1" name="Parameter {n}">&quot;main&quot;</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="2231857615780068">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="3012465634705975" type="System">
                                                    <param id="0" name="First value">PlayerPlatform.Platform.VectorX</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">0</param>
                                                </condition>
                                                <condition id="-8" name="Compare two values" sid="4613759348161193" type="System">
                                                    <param id="0" name="First value">PlayerSCML.animationName</param>
                                                    <param id="1" name="Comparison">1</param>
                                                    <param id="2" name="Second value">&quot;idle&quot;</param>
                                                </condition>
                                                <condition behavior="Platform" id="2" name="Is on floor" sid="6766173060938577" type="PlayerPlatform" />
                                                <condition id="-4" name="Trigger once while true" sid="7213511100289579" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="1" name="Set playback speed ratio" sid="2292650369148249" type="PlayerSCML">
                                                    <param id="0" name="Speed Ratio">1.0</param>
                                                </action>
                                                <action id="0" name="Call function" sid="3857993456229872" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerSCMLRunAnim&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;idle&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="6770479795917752">
                                    <conditions>
                                        <condition id="0" name="On function" sid="1559079016714562" type="Function">
                                            <param id="0" name="Name">&quot;onDialogModeEnter&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="9380255702128195" type="System">
                                            <param id="0" name="Variable">IsInDialogMode</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="849560310714823">
                                    <conditions>
                                        <condition id="0" name="On function" sid="3151806691571503" type="Function">
                                            <param id="0" name="Name">&quot;onDialogModeExit&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="1975071858217079" type="System">
                                            <param id="0" name="Variable">IsInDialogMode</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="7796920219779422" title="Jumping">
                            <sub-events>
                                <event-block sid="9573781634401534">
                                    <conditions>
                                        <condition behavior="Platform" id="5" name="On jump" sid="6025160277107431" type="PlayerPlatform" />
                                        <condition id="-7" name="Compare instance variable" sid="7761395112412015" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_AUTO</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set playback speed ratio" sid="1859870101974852" type="PlayerSCML">
                                            <param id="0" name="Speed Ratio">1.0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="2254056113723505" type="Function">
                                            <param id="0" name="Name">&quot;PlayerSCMLRunAnim&quot;</param>
                                            <param id="1" name="Parameter {n}">&quot;jumpup&quot;</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="2457611269634257">
                                    <conditions>
                                        <condition id="0" name="On animation finished" sid="2249154323573507" type="PlayerSCML">
                                            <param id="0" name="Animation">&quot;jumpup&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="5222641571058778">
                                            <conditions />
                                            <actions>
                                                <action id="1" name="Set playback speed ratio" sid="4711562451428271" type="PlayerSCML">
                                                    <param id="0" name="Speed Ratio">1.0</param>
                                                </action>
                                                <action id="0" name="Call function" sid="1967830208952801" type="Function">
                                                    <param id="0" name="Name">&quot;PlayerSCMLRunAnim&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;flight&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <event-group description="" sid="2833109092947978" title="Falling down">
                            <sub-events>
                                <variable constant="1" name="SHOCK_DURATION_MS" sid="2858125560005801" static="0" type="number">1000</variable>
                                <variable constant="0" name="FALL_HEIGHT_TO_SHOCK" sid="5735450671355272" static="1" type="number">0</variable>
                                <variable constant="0" name="PlayerFallStartY" sid="8725826739179389" static="1" type="number">0</variable>
                                <variable constant="0" name="IsPlayerLandingPending" sid="7838596249373106" static="1" type="number">0</variable>
                                <event-block sid="4183189959594157">
                                    <conditions>
                                        <condition id="0" name="On function" sid="1709479015584567" type="Function">
                                            <param id="0" name="Name">&quot;onStartOfLayout&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="3244401804736179" type="System">
                                            <param id="0" name="Variable">PlayerFallStartY</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="5228346632558918" type="System">
                                            <param id="0" name="Variable">IsPlayerLandingPending</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="604757373700208" type="System">
                                            <param id="0" name="Variable">FALL_HEIGHT_TO_SHOCK</param>
                                            <param id="1" name="Value">WINDOW_HEIGHT * 1.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="3809972579669077">
                                    <conditions>
                                        <condition behavior="Platform" id="6" name="On fall" sid="9663412239955302" type="PlayerPlatform" />
                                        <condition id="-7" name="Compare instance variable" sid="1799543289128934" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_AUTO</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="9620416390869602" type="System">
                                            <param id="0" name="Variable">PlayerFallStartY</param>
                                            <param id="1" name="Value">PlayerPlatform.Y</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="205437604012839" type="System">
                                            <param id="0" name="Variable">IsPlayerLandingPending</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="638913726269852">
                                    <conditions>
                                        <condition behavior="Platform" id="9" name="On landed" sid="1017229682156828" type="PlayerPlatform" />
                                        <condition id="-7" name="Compare instance variable" sid="7016498030331662" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_AUTO</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="6665085939889901">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="7738225490807593" type="System">
                                                    <param id="0" name="First value">PlayerPlatform.Y - PlayerFallStartY</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Second value">FALL_HEIGHT_TO_SHOCK</param>
                                                </condition>
                                                <condition id="-14" name="Compare variable" sid="5095977045675947" type="System">
                                                    <param id="0" name="Variable">IsPlayerLandingPending</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-9" name="Set value" sid="9807750089729425" type="System">
                                                    <param id="0" name="Variable">IsPlayerLandingPending</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                                <action id="0" name="Call function" sid="2534919867419644" type="Function">
                                                    <param id="0" name="Name">&quot;AnimPlayerRunTimed&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;shock&quot;{###}SHOCK_DURATION_MS</param>
                                                </action>
                                                <action id="0" name="Call function" sid="7500699393856946" type="Function">
                                                    <param id="0" name="Name">&quot;DisablePlayerAvatarMovement&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="-16" name="Wait" sid="7132628931212938" type="System">
                                                    <param id="0" name="Seconds">SHOCK_DURATION_MS / 1000</param>
                                                </action>
                                                <action id="0" name="Call function" sid="6610647853488674" type="Function">
                                                    <param id="0" name="Name">&quot;EnablePlayerAvatarMovement&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                    </sub-events>
                </event-group>
                <event-group description="Animation logic which can be enabled/disabled on external demand." sid="8278518111259733" title="Dynamic">
                    <sub-events>
                        <comment>param(0): animation name</comment>
                        <event-block sid="8945119670845163">
                            <conditions>
                                <condition id="0" name="On function" sid="668738160881023" type="Function">
                                    <param id="0" name="Name">&quot;AnimPlayerRun&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="8751598374983928">
                                    <conditions />
                                    <actions>
                                        <action id="0" name="Call function" sid="8993994882193705" type="Function">
                                            <param id="0" name="Name">&quot;AnimPlayerCancel&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="5954033545624438">
                                    <conditions>
                                        <condition id="1" name="Compare parameter" sid="6201551725988024" type="Function">
                                            <param id="0" name="Index">0</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">&quot;idle&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="3277854596472515" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Value">PLAYER_ANIM_MODE_MANUAL</param>
                                        </action>
                                        <action id="1" name="Set playback speed ratio" sid="6874471233467473" type="PlayerSCML">
                                            <param id="0" name="Speed Ratio">1.0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="6661591700667053" type="Function">
                                            <param id="0" name="Name">&quot;PlayerSCMLRunAnim&quot;</param>
                                            <param id="1" name="Parameter {n}">Function.Param(0)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>param(0): animation name&#x0D;&#x0A;param(1): time duration to play in msecs&#x0D;&#x0A;Explicitly stop animation when duration is passed because spriter can&apos;t generate anim finished when duration is longer then animation</comment>
                        <event-block sid="279668896230396">
                            <conditions>
                                <condition id="0" name="On function" sid="2533048029894537" type="Function">
                                    <param id="0" name="Name">&quot;AnimPlayerRunTimed&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="1010559911981107">
                                    <conditions />
                                    <actions>
                                        <action id="0" name="Call function" sid="8211802956268283" type="Function">
                                            <param id="0" name="Name">&quot;AnimPlayerRun&quot;</param>
                                            <param id="1" name="Parameter {n}">Function.Param(0)</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="290774115957383" type="System">
                                            <param id="0" name="Seconds">Function.Param(1) / 1000</param>
                                        </action>
                                        <action id="0" name="Call function" sid="6275028504083156" type="Function">
                                            <param id="0" name="Name">&quot;AnimPlayerCancel&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>param(0): animation name</comment>
                        <event-block sid="3882349336432462">
                            <conditions>
                                <condition id="0" name="On function" sid="9115592515697681" type="Function">
                                    <param id="0" name="Name">&quot;AnimPlayerRunPreemptable&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block any="1" sid="5796515181192117">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="6726983274584543" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_AUTO</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="195873295121447" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_PREEMTABLE</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="2977323008305829" type="Function">
                                            <param id="0" name="Name">&quot;AnimPlayerRun&quot;</param>
                                            <param id="1" name="Parameter {n}">Function.Param(0)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="1487213003554225" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Value">PLAYER_ANIM_MODE_PREEMTABLE</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="5097812094664072">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="3634505762417939" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="6472285693497558" type="Function">
                                            <param id="0" name="Name">&quot;onAnimPlayerCanceled&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="9783851033608358">
                            <conditions>
                                <condition id="0" name="On function" sid="1437120769221381" type="Function">
                                    <param id="0" name="Name">&quot;AnimPlayerCancel&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block any="1" sid="8350461873047605">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="4231468158863711" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_PREEMTABLE</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="3375277265138064" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_MANUAL</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="9834614041208531" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Value">PLAYER_ANIM_MODE_AUTO</param>
                                        </action>
                                        <action id="1" name="Set playback speed ratio" sid="5078019635920668" type="PlayerSCML">
                                            <param id="0" name="Speed Ratio">1.0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="159384977253025" type="Function">
                                            <param id="0" name="Name">&quot;PlayerSCMLRunAnim&quot;</param>
                                            <param id="1" name="Parameter {n}">&quot;idle&quot;</param>
                                        </action>
                                        <action id="0" name="Call function" sid="4979884516819502" type="Function">
                                            <param id="0" name="Name">&quot;onAnimPlayerCanceled&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="3478046881652599">
                            <conditions>
                                <condition id="1" name="On any finished" sid="6849471902486559" type="PlayerSCML" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block any="1" sid="9353086367847277">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="1174925284477462" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_PREEMTABLE</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="4468698025031028" type="Player">
                                            <param id="0" name="Instance variable">CurrentAnimMode</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">PLAYER_ANIM_MODE_MANUAL</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="2755231291215201" type="Function">
                                            <param id="0" name="Name">&quot;AnimPlayerCancel&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
